var a=Object.defineProperty;var p=(s,e,t)=>e in s?a(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var i=(s,e,t)=>(p(s,typeof e!="symbol"?e+"":e,t),t);const u=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};u();function d(s,e){for(const t in e)s.style[t]=e[t]}class h{constructor(e){i(this,"maxLines");i(this,"lines");this.maxLines=e,this.lines=[]}set(...e){this.lines=e.slice(-this.maxLines)}append(...e){this.lines.push(...e),this.lines=this.lines.slice(-this.maxLines)}clear(){this.lines=[]}}const m="~$&emsp;",C=`Welcome to Web-Console v1.1
By jablazr on GitHub`;class f{constructor(e,t){i(this,"consoleContainer");i(this,"outputContainer");i(this,"inputContainer");i(this,"cmdPrompt");i(this,"form");i(this,"input");i(this,"webConsole");this.consoleContainer=e,this.outputContainer=document.createElement("div"),this.inputContainer=document.createElement("div"),this.cmdPrompt=document.createElement("span"),this.form=document.createElement("form"),this.input=document.createElement("input"),this.consoleContainer.appendChild(this.outputContainer),this.consoleContainer.appendChild(this.inputContainer),this.inputContainer.appendChild(this.cmdPrompt),this.inputContainer.appendChild(this.form),this.form.appendChild(this.input),this.consoleContainer.classList.add("webConsole"),this.inputContainer.classList.add("input"),this.form.classList.add("form"),this.input.classList.add("chatInput"),this.cmdPrompt.innerHTML=m,this.form.onsubmit=r=>{r.preventDefault(),this.handle(this.input.value),this.input.value="",this.consoleContainer.scrollTop=this.consoleContainer.scrollHeight},this.consoleContainer.addEventListener("click",()=>{this.input.focus({preventScroll:!0})}),this.webConsole=new h(t),this.set({parts:[{text:C,color:"blue"}]})}set(...e){this.webConsole.set(...e);const t=c(...this.webConsole.lines);this.outputContainer.textContent=null,this.outputContainer.append(...t)}append(...e){this.webConsole.append(...e);const t=c(...this.webConsole.lines);this.outputContainer.textContent=null,this.outputContainer.append(...t)}clear(){this.webConsole.clear(),this.outputContainer.textContent=null}handle(e){switch(e=e.replace(/(\r\n|\n|\r)/gm,""),this.append({parts:[{text:this.cmdPrompt.innerText,color:"black"},{text:e,color:"grey"}]}),e){case"":break;case"ping":case"ping!":this.append({parts:[{text:"pong!",color:"green"}]});break;case"clear":case"clr":this.clear();break;default:this.append({parts:[{text:e,color:"red"},{text:": command not found!",color:"black"}]})}}}function c(...s){const e=[];for(const t of s){const r=document.createElement("div");for(const n of t.parts){const o=document.createElement("span");o.innerText=n.text,d(o,{color:n.color}),r.appendChild(o)}e.push(r)}return e}const b=document.getElementById("webConsole"),E=new f(b,50);E.append({parts:[{text:":^)",color:"brown"}]});
